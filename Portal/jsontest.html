<html>
<head>
    <script src="Scripts/jquery.min.js" type="text/javascript" ></script>
    <script src="scripts/UIForm.js" type="text/javascript" ></script>
    <script src="Scripts/UIFramework.js" type="text/javascript" ></script>
    <script src="Scripts/jsonmanager.js"></script>
</head>
<body>
    <div id="json"></div>
    <script>
        document.addEventListener("DOMContentLoaded", function(event) {
            console.log("DOM fully loaded and parsed");
            let ajax = new UI.Ajax("");
            ajax.get("test.json").then((response) => {
                //console.log(response)
                
                var json = new UI.JSONManager(response);
                console.log('panels:', json.getNode('functiongroups/{"id":"bf99330c_eafc_4211_ae09_24ade30cb775"}/functions/{"id":"4337c0a1_2766_4bbc_a80f_a7e93b3fa355"}'))

                json.updateNodeValue('functiongroups/{"id":"bf99330c_eafc_4211_ae09_24ade30cb775"}/functions/{"id":"4337c0a1_2766_4bbc_a80f_a7e93b3fa355"}/inputs/{"id": "8c9b4986_5454_498e_8d6f_90c1ce041be0"}', '{"name":"test", "aliasname":"test"}')
                console.log('panels:', json.getNode('functiongroups/{"id":"bf99330c_eafc_4211_ae09_24ade30cb775"}/functions/{"id":"4337c0a1_2766_4bbc_a80f_a7e93b3fa355"}'),json.changed)
                json.deleteNode('functiongroups/{"id":"bf99330c_eafc_4211_ae09_24ade30cb775"}/functions/0')
                console.log('function:', json.getNode('functiongroups/{"id":"bf99330c_eafc_4211_ae09_24ade30cb775"}/functions/0'),json.changed)

            }).catch((error) => {
                console.log(error);
            })           
           
        });
        
    </script>
</body>
</html>