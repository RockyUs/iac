<script>
$Context.onLoaded(function(){
  let menutable = document.getElementById("local_cache_storage_menus");
  let loginuserid = UI.userlogin.userID
  let prefix = window.location.origin+"_"+ "menu_"
  let height = $("#$ViewID").height() - 100;
  
  let Tabulator_Columns=[];
  let column={}
  column.title = "Created On"
  column.field = "createdon"
  Tabulator_Columns.push(column)
  column={}
  column.title = "Content"
  column.field = "Content"
  Tabulator_Columns.push(column)
  column={}
  column.title = "Renew"
  column.field = "renew"
  column.formatter = function(){return '<i class="fa-solid fa-xmark"></i>';};
  column.width = 20
  column.hozAlign = "center"
  column.cellClick = function(e, cell){alert("Delete row data for: " + cell.getRow().getData().name)},
  Tabulator_Columns.push(column)
  UI.Log("table data:", Tabulator_Columns)
  let Tabulator_Data =[];
 for(var key in localStorage){
 	if(key.startsWith(prefix)){
  		let data = localStorage.getItem(key)
        let jdata =JSON.parse(data);
      	let tdata={
          Content: data,
    	  createdon: jdata.createdon,
          renew: "X"
        }
        Tabulator_Data.push(tdata)
    }
  }
  UI.Log("table data:", Tabulator_Columns, Tabulator_Data,height);
  logintable.Table = new Tabulator(menutable.uitabulator, {
              height: height + "px",
              layout:"fitColumns",
              resizableColumnFit:true,
              responsiveLayout:"hide",
          //    autoColumns:true,
          //    layout: "fitColumns",
              columns: Tabulator_Columns,
    		  autoColumns:true,
              data: Tabulator_Data
  });
  
  
})

</script>